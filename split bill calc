package ClassLabGUI;
import java.text.DecimalFormat;
import javafx.application.Application;
import javafx.scene.Scene;
import javafx.stage.Stage;
import javafx.scene.layout.GridPane;
import javafx.scene.control.*;
import javafx.scene.layout.*;
import javafx.geometry.*;

public class ClassLabGUI extends Application {
@Override
public void start(Stage primaryStage){
	GridPane grid= new GridPane();
	grid.setAlignment(Pos.TOP_CENTER);

	grid.setPadding(new Insets(25, 25, 25, 25));

	grid.setHgap(10);

	grid.setVgap(10);

	Scene scene = new Scene(grid, 300, 300);

    primaryStage.setTitle("Split Bill Calculator");
    
    //bill
    
     grid.add(new Label("Bill: "), 0, 0);

		TextField bill = new TextField();

		grid.add(bill, 1, 0);
                
                //sales tax
      grid.add(new Label("Sales Tax: "), 0, 3);

		TextField salesTax = new TextField();

		grid.add(salesTax, 1, 3);
                
             //split   
                
          grid.add(new Label("Split: "), 0, 6);

		TextField split = new TextField();

		grid.add(split, 1, 6);   
                
                //create text field for output
              
//            TextField myOutput = new TextField();   
               Label myOutput = new Label();
		myOutput.setWrapText(true);
		myOutput.setPrefWidth(300);
		myOutput.setWrapText(true);

		grid.add(myOutput, 0, 8, 2, 3);
               
                //calculate button
       Button calculate = new Button();

    calculate.setText("Calculate");
    HBox buttonBox = new HBox(15);

		buttonBox.getChildren().add(calculate);
                
    buttonBox.setAlignment(Pos.BOTTOM_RIGHT);

		grid.add(buttonBox, 0, 12, 2, 1);
    calculate.setOnAction(eventonclick -> {
        double b = Double.valueOf(bill.getText());
        
        double s = Double.valueOf(split.getText());
        double st = ((Double.valueOf(salesTax.getText())/100)+1);
        double calc = ((b*st)/s);
        
         DecimalFormat df = new DecimalFormat();
          df.setMaximumFractionDigits(2);
          
        if(s%1==0){ 
        myOutput.setText("The amount split between " + (int) Math.floor(s) + " people is " + df.format(calc));
        }
        
        else myOutput.setText("Split can not have decimals");
    });  
    

    
    //clear button
       Button clear = new Button();

    clear.setText("Clear");

    clear.setOnAction(event -> {
        bill.setText("");
        salesTax.setText("");
        split.setText("");
});
    buttonBox.getChildren().add(clear);
    
    //exit button
       Button exit = new Button();

    exit.setText("Exit");

    exit.setOnAction(event -> {
        System.exit(1);
    });
                buttonBox.getChildren().add(exit);


                //final
                 primaryStage.setScene(scene);

    primaryStage.show();
}
	
	public static void main(String[] args){
		launch(args);
	}
}
